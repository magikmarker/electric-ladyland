{
  "version": 3,
  "sources": ["<stdin>", "../node_modules/@remix-run/dev/compiler/shims/react.ts", "../app/entry.server.tsx", "/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/root.tsx", "/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/routes/multi-item-form.tsx", "../app/forms/multi-item-form.ts", "../app/services/form/action-utils.ts", "../app/services/form/shared.ts", "../app/services/form/session.server.ts", "../app/services/form/action-function.ts", "../app/services/form/form-types.tsx", "../app/services/form/form-field.tsx", "../app/services/form/loader-function.ts", "../app/services/form/loader-utils.ts", "/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/routes/index.tsx", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "// eslint-disable-next-line import/no-extraneous-dependencies\nimport * as React from \"react\";\nexport { React };\n", "import type { EntryContext } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  let markup = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  );\n\n  responseHeaders.set(\"Content-Type\", \"text/html\");\n\n  return new Response(\"<!DOCTYPE html>\" + markup, {\n    status: responseStatusCode,\n    headers: responseHeaders,\n  });\n}\n", "import type { MetaFunction } from \"@remix-run/node\";\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nexport const meta: MetaFunction = () => ({\n  charset: \"utf-8\",\n  title: \"New Remix App\",\n  viewport: \"width=device-width,initial-scale=1\",\n});\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body\n        style={{\n          fontFamily: `'-apple-system', 'Segoe UI', 'Helvetica Neue',\n    'Helvetica', 'Roboto', 'Arial', 'sans-serif', 'system-ui', 'Apple Color Emoji',\n    'Segoe UI Emoji'`,\n          lineHeight: \"1.4\",\n        }}\n      >\n        <Outlet />\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n", "import type {\n  ActionFunction,\n  LoaderFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\nimport { multiItemStepForm } from \"~/forms/multi-item-form\";\nimport { formActionFunction } from \"~/services/form/action-function\";\nimport { MultipartForm } from \"~/services/form/form-types\";\nimport { formLoaderFunction } from \"~/services/form/loader-function\";\n\nconst metaTitle = \"Multi-Item Form\";\nconst metaDescription = \"TODO - Fill in description\";\n\nexport let meta: MetaFunction = () => {\n  return {\n    title: metaTitle,\n    description: metaDescription,\n  };\n};\n\nexport let loader: LoaderFunction = async ({ request }) => {\n  const { currentStepBlueprint, context, commitSession, session } =\n    await formLoaderFunction({\n      basicOrMultipart: \"multipart\",\n      request,\n      formBlueprint: multiItemStepForm,\n    });\n\n  console.log({ currentStepBlueprint, multiItemStepForm, context });\n\n  return json(\n    {\n      currentStepBlueprint,\n      context,\n    },\n    {\n      headers: {\n        \"Set-Cookie\": await commitSession(session),\n      },\n    }\n  );\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  return formActionFunction({\n    formBlueprint: multiItemStepForm,\n    formType: \"multipart\",\n    request: request,\n    handleDataFn: () => {\n      console.log(\"lol, handle data\");\n    },\n    successRedirectPath: \"/\",\n  });\n};\n\nexport default function MultiItemForm() {\n  let data = useLoaderData();\n\n  let context = data?.context;\n  let currentStepBlueprint = data?.currentStepBlueprint;\n\n  return (\n    <>\n      <div className=\"content-wrapper form-content-wrapper\">\n        <MultipartForm context={context} formStructure={currentStepBlueprint} />\n      </div>\n    </>\n  );\n}\n", "import type { MultiStepForm, Step } from \"~/services/form/types\";\nimport { validation } from \"~/services/form/validation\";\n\nconst notImportantStep: Step = {\n  fields: [\n    {\n      name: \"not-important\",\n      label: \"Not Important\",\n      type: \"text\",\n      required: true,\n      initialValue: \"Anything here\",\n      validation: {\n        patterns: [\"^[\\\\w\\\\s-&']{2,50}$\"],\n        messages: [\"letters, spaces, & or '\"],\n      },\n    },\n  ],\n  nextButtonText: \"Todo List\",\n};\n\nconst todoStep: Step = {\n  fields: [\n    {\n      name: \"todo-items-list\",\n      type: \"expandable-list\",\n      listLabel: \"Todo Items\",\n      addItemLabel: \"Add Item\",\n      editItemLabel: \"Edit Item\",\n      addOrEditItemModalLabel: \"Add or Edit Item\",\n      initialValue: [],\n      listItemStructure: [\n        {\n          name: \"todo-title\",\n          label: \"Part #\",\n          type: \"text\",\n          required: true,\n          initialValue: \"\",\n          validation: {\n            patterns: [\"^[\\\\w\\\\s-&']{2,50}$\"],\n            messages: [\"letters, spaces, & or '\"],\n          },\n          showOnMobileTable: true,\n          tableFlex: 3,\n          alignText: \"left\",\n        },\n        {\n          name: \"todo-description\",\n          label: \"Description\",\n          description:\n            \"Short (less than 30 characters) description of todo item\",\n          type: \"text\",\n          required: true,\n          initialValue: \"\",\n          validation: {\n            patterns: [\"^[\\\\w\\\\s-&']{2,30}$\"],\n            messages: [\"letters, spaces, & or '\"],\n          },\n          showOnMobileTable: true,\n          tableFlex: 3,\n          alignText: \"left\",\n        },\n        {\n          name: \"priority\",\n          label: \"Source\",\n          type: \"radio\",\n          options: [\"High\", \"Medium\", \"Low\"],\n          initialValue: \"High\",\n        },\n      ],\n    },\n  ],\n  backButtonText: \"Not Important\",\n  nextButtonText: \"Less Important\",\n};\n\nconst lessImportantStep: Step = {\n  fields: [\n    {\n      name: \"less-important\",\n      label: \"Less Important\",\n      type: \"text\",\n      required: true,\n      initialValue: \"Less important thing\",\n      validation: {\n        patterns: [\"^[\\\\w\\\\s-&']{2,50}$\"],\n        messages: [\"letters, spaces, & or '\"],\n      },\n    },\n  ],\n  backButtonText: \"Todo List\",\n  nextButtonText: \"Submit\",\n};\n\nexport const multiItemStepForm: MultiStepForm = [\n  notImportantStep,\n  todoStep,\n  lessImportantStep,\n];\n", "import { redirect, json } from \"@remix-run/node\";\nimport { convertSingleQuotes } from \"~/services/form/shared\";\nimport { commitSession } from \"~/services/form/session.server\";\nimport { FormFieldInput, MultiStepForm } from \"./types\";\n\n// A bot entered a value into a hidden field\nfunction honeypotFieldHasValue({ body }: { body: FormData }) {\n  let honeypotField = body.get(\"given-name\");\n\n  // console.log({ honeypotField });\n\n  if (honeypotField) {\n    return true;\n  }\n\n  return false;\n}\n\n// Take the form values from the request\n// form data and add them to context\nfunction addFormValuesToContext({\n  formType,\n  formBlueprint,\n  body,\n  context,\n}:\n  | {\n      formType: \"multipart\";\n      context: any;\n      formBlueprint: MultiStepForm;\n      body: FormData;\n    }\n  | {\n      formType: \"basic\";\n      context: any;\n      formBlueprint: FormFieldInput[];\n      body: FormData;\n    }): any {\n  // Get the inputs from the form\n  function addFieldToContext(field: FormFieldInput) {\n    // Get the form field value\n    let formFieldValue: string | undefined;\n\n    if (\n      field.type === \"email\" ||\n      field.type === \"password\" ||\n      field.type === \"text\" ||\n      field.type === \"textarea\" ||\n      field.type === \"radio\" ||\n      field.type === \"hidden\" ||\n      field.type === \"stateful-radio\"\n    ) {\n      formFieldValue =\n        body.get(`${field.name}`)?.toString() ?? field.initialValue;\n    }\n\n    if (field.type === \"checkbox\") {\n      let checkboxValue = body.get(`${field.name}`)?.toString();\n      // If there is no value, the checkbox was never checked, so\n      // we want to return early\n      // console.log({ checkboxValue });\n\n      if (!checkboxValue) {\n        return;\n      }\n      formFieldValue = checkboxValue;\n    }\n\n    let errors: string[] = [];\n    // If a field is required and not present, we need to add an error\n    // to the field\n    if (\n      field.type === \"text\" ||\n      field.type === \"textarea\" ||\n      field.type === \"email\" ||\n      field.type === \"password\"\n    ) {\n      if (!formFieldValue && field.required) {\n        errors.push(\"This field is required\");\n      }\n    }\n\n    if (typeof field === \"object\") {\n      // console.log({ formFieldValue, fieldName: field.name });\n\n      // Add the field to context\n      if (formFieldValue) {\n        context[`${field.name}`] = {\n          value: formFieldValue,\n          errors,\n        };\n      }\n    }\n\n    // If it is a stateful radio field, check for\n    // dependent children\n    if (field.type === \"stateful-radio\") {\n      // Get the index of the selected value\n      // We need this to know which children to show\n\n      field.dependentChildren.forEach((fields) => {\n        if (typeof fields !== \"undefined\") {\n          fields.forEach((nestedField) => {\n            if (nestedField) {\n              addFieldToContext(nestedField);\n            }\n          });\n        }\n      });\n    }\n\n    if (field.type === \"checkbox-group\") {\n      field.checkboxes.forEach((checkbox) => {\n        // Get rid of checkbox values that might\n        // exist from a previous pass\n        delete context[`${checkbox.name}`];\n        // console.log({ contextAfterDelete: context });\n\n        addFieldToContext(checkbox);\n      });\n    }\n  }\n\n  // Use the form structure to create a context object\n  if (formType === \"basic\") {\n    formBlueprint.forEach((field) => {\n      addFieldToContext(field);\n    });\n  }\n\n  if (formType === \"multipart\") {\n    // Get the current form step to know what to add to context\n    const currentFormStep = context.currentStep;\n\n    // console.log({ currentFormStep, formBlueprint, context });\n\n    // console.log(\"lol: \", typeof formBlueprint[currentFormStep]);\n\n    // @ts-ignore\n    for (const field of formBlueprint[currentFormStep]?.fields) {\n      if (field) {\n        addFieldToContext(field);\n      }\n    }\n  }\n\n  // console.log({ context });\n}\n\nfunction validateFieldValue({\n  value,\n  regex,\n}: {\n  value: string;\n  regex: string;\n}) {\n  let regexTestPattern = new RegExp(`${regex}`, \"igm\");\n\n  value = convertSingleQuotes(value);\n\n  // console.log({ regexTestPattern });\n\n  // console.log(\"regexTest: \", regexTestPattern.test(value));\n\n  // console.log({ value });\n\n  return regexTestPattern.test(value);\n}\n\n// Validate a form field value (context)\n// using the validation patterns outlined in formField\n// If an error exists, add it to the context\n// errors array\nfunction validateFormFieldValue({\n  formField,\n  context,\n}: {\n  context: any;\n  formField: FormFieldInput;\n}) {\n  // currentStep and formStage are context properties\n  // that we don't want to validate, they are also not\n  // objects\n\n  // if (typeof formField !== \"object\") {\n  //   console.log(\"I'm out..\");\n\n  //   return;\n  // }\n  if (formField.type === \"hidden\") {\n    return;\n  }\n\n  if (\n    formField.type === \"text\" ||\n    formField.type === \"textarea\" ||\n    formField.type === \"email\" ||\n    formField.type === \"password\"\n  ) {\n    let currentFieldValue = context[`${formField.name}`].value;\n    // Iterate through the validation patterns\n    formField.validation.patterns.forEach((pattern, index) => {\n      const valueIsValid = validateFieldValue({\n        value: currentFieldValue,\n        regex: pattern,\n      });\n\n      // console.log(\"valueIsValid: \", valueIsValid);\n\n      // Value is not valid\n      // Push current error message onto array if it isn't already there\n      if (\n        !valueIsValid &&\n        !context[`${formField.name}`].errors.includes(\n          formField.validation.messages[index]\n        )\n      ) {\n        // console.log(\"add an error\");\n\n        context[`${formField.name}`].errors.push(\n          formField.validation.messages[index]\n        );\n      }\n    });\n  }\n\n  if (formField.type === \"stateful-radio\") {\n    let currentFieldValue = context[`${formField.name}`].value;\n    let { dependentChildren } = formField;\n    // Get currently selected radio option\n    // Get the index of the current value\n    const selectedValueIndex: number =\n      formField.options.indexOf(currentFieldValue);\n\n    if (typeof dependentChildren === \"object\") {\n      dependentChildren[selectedValueIndex].forEach((dependentField) => {\n        if (typeof dependentField !== \"undefined\") {\n          validateFormFieldValue({ context, formField: dependentField });\n        }\n      });\n    }\n  }\n}\n\n// Check for errors in context\n// In basic, we want to check all of the context entries\n// In multipart, we only want to check the context items\n// for the current step\nfunction checkContextForErrors({\n  context,\n  formType,\n  formBlueprint,\n}:\n  | {\n      formBlueprint: FormFieldInput[];\n      formType: \"basic\";\n      context: any;\n    }\n  | {\n      formBlueprint: MultiStepForm;\n      formType: \"multipart\";\n      context: any;\n    }): boolean {\n  let errorsPresent = false;\n  // Basic form\n  if (formType === \"basic\") {\n    for (const fieldValue in context) {\n      // @ts-ignore\n      if (fieldValue?.errors?.length >= 1) {\n        errorsPresent = true;\n      }\n\n      if (errorsPresent) {\n        return true;\n      }\n    }\n  }\n\n  if (formType === \"multipart\") {\n    const currentFormStep = context.currentStep;\n\n    // Using the current form step, get the context fields to\n    // check for errors\n    // eslint-disable-next-line no-inner-declarations\n    function addFieldNameToValidateToArray(\n      field: FormFieldInput,\n      fieldsToValidate: string[]\n    ) {\n      fieldsToValidate.push(field.name);\n\n      if (field.type === \"stateful-radio\") {\n        let selectedIndex = field.options.indexOf(\n          context[`${field.name}`].value\n        );\n        field.dependentChildren[selectedIndex].forEach((nestedField) => {\n          if (nestedField) {\n            fieldsToValidate.push(nestedField.name);\n          }\n        });\n      }\n    }\n    // We only care about the context values in the current step\n    let fieldsToValidate: string[] = [];\n\n    // @ts-ignore\n    for (const field of formBlueprint[currentFormStep]?.fields) {\n      // console.log({ field });\n\n      if (context) addFieldNameToValidateToArray(field, fieldsToValidate);\n    }\n\n    // console.log({ fieldsToValidate });\n\n    for (const fieldToValidate of fieldsToValidate) {\n      if (context[`${fieldToValidate}`]?.errors?.length >= 1) {\n        errorsPresent = true;\n      }\n\n      if (errorsPresent) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// Takes in the data (context), success redirect path, and\n// session and commitSession function\nasync function handleFormData({\n  handleDataFn,\n  context,\n  successRedirectPath,\n  session,\n  commitSession,\n  request,\n}: {\n  handleDataFn: any;\n  context: any;\n  successRedirectPath: string;\n  session: any;\n  commitSession: any;\n  request: Request;\n}) {\n  // handle data - the data function should return a tuple\n  // the first item in the tuple will be a boolean to indicate\n  // whether the operation succeeded or failed\n\n  // The second item in the tuple is the success or error message\n  let handleDataResult: [boolean, string] = await handleDataFn(\n    context,\n    request\n  );\n  let [success, message] = handleDataResult;\n\n  if (success) {\n    context.dataHandlerSuccessMessage = message;\n    context.dataHandlerErrorMessage = \"\";\n    session.set(\"context\", context);\n\n    return redirect(successRedirectPath, {\n      headers: {\n        \"Set-Cookie\": await commitSession(session),\n      },\n    });\n  } else {\n    context.dataHandlerSuccessMessage = \"\";\n    context.dataHandlerErrorMessage = message;\n    session.set(\"context\", context);\n\n    return json(\n      {},\n      {\n        headers: {\n          \"Set-Cookie\": await commitSession(session),\n        },\n      }\n    );\n  }\n}\n\nasync function handleListItemFormStructureOp({\n  operationType,\n  formBlueprint,\n  context,\n  session,\n  pathname,\n  body,\n}: {\n  operationType: any;\n  formBlueprint: any;\n  context: any;\n  session: any;\n  pathname: string;\n  body: any;\n}): Promise<any> {\n  let expandableList = formBlueprint[context?.currentStep]?.fields.find(\n    (item: any) => {\n      return item.type === \"expandable-list\";\n    }\n  );\n  let expandableListArr = context?.[expandableList.name]?.value ?? [];\n\n  if (operationType === \"add-item-to-list\") {\n    let listItemObject: any = {};\n\n    expandableList.listItemStructure.forEach((field: any) => {\n      listItemObject[field.name] = {\n        value: body.get(field.name),\n        errors: [],\n      };\n    });\n\n    expandableListArr.push(listItemObject);\n  } else if (operationType === \"edit-list-item\") {\n    let indexToChange = body.get(\"index-to-change\");\n    expandableList.listItemStructure.forEach((field: any) => {\n      expandableListArr[Number(indexToChange)][field.name] = {\n        value: body.get(field.name),\n        errors: [],\n      };\n    });\n  } else if (operationType === \"delete-list-item\") {\n    let indexToDelete = body.get(\"index-to-delete\");\n\n    expandableListArr.splice(Number(indexToDelete), 1);\n  }\n  session.set(\"context\", {\n    ...context,\n    [expandableList.name]: {\n      value: expandableListArr,\n      errors: [],\n    },\n  });\n\n  return redirect(pathname, {\n    headers: {\n      \"Set-Cookie\": await commitSession(session),\n    },\n  });\n}\n\nexport {\n  honeypotFieldHasValue,\n  addFormValuesToContext,\n  validateFormFieldValue,\n  validateFieldValue,\n  checkContextForErrors,\n  handleFormData,\n  handleListItemFormStructureOp,\n};\n", "import { MultiStepForm } from \"~/services/form/types\";\n\nexport function getFormStage({\n  context,\n  formBlueprint,\n}: {\n  context: any;\n  formBlueprint: MultiStepForm;\n}): \"beginning\" | \"middle\" | \"end\" {\n  // What stage of the form are we in\n  // Beginning - Middle - End\n  const numberOfAvailableSteps = formBlueprint.length;\n  let formStage: \"beginning\" | \"middle\" | \"end\" =\n    context.currentStep === 0\n      ? \"beginning\"\n      : Number(context.currentStep) + 1 === numberOfAvailableSteps\n      ? \"end\"\n      : \"middle\";\n\n  return formStage;\n}\n\nexport function toBinary(string: string) {\n  const codeUnits = new Uint16Array(string.length);\n  for (let i = 0; i < codeUnits.length; i++) {\n    codeUnits[i] = string.charCodeAt(i);\n  }\n  const charCodes = new Uint8Array(codeUnits.buffer);\n  let result = \"\";\n  for (let i = 0; i < charCodes.byteLength; i++) {\n    result += String.fromCharCode(charCodes[i]);\n  }\n  return result;\n}\n\nexport function fromBinary(binary: string) {\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < bytes.length; i++) {\n    bytes[i] = binary.charCodeAt(i);\n  }\n  const charCodes = new Uint16Array(bytes.buffer);\n  let result = \"\";\n  for (let i = 0; i < charCodes.length; i++) {\n    result += String.fromCharCode(charCodes[i]);\n  }\n  return result;\n}\n\nexport function convertSingleQuotes(string: string) {\n  let stringLength = string.length;\n  let result = \"\";\n\n  for (let i = 0; i < stringLength; i++) {\n    // look for single quotes\n    let stringChar = string.charCodeAt(i);\n\n    // console.log({ stringChar });\n\n    if (stringChar === 8216 || stringChar === 8217) {\n      // console.log(\"We've got a runner\");\n\n      result += \"'\";\n    } else {\n      result += string[i];\n    }\n  }\n\n  // console.log({ result });\n\n  return result;\n}\n", "import {\n  Cookie,\n  createCookieSessionStorage,\n  createSessionStorage,\n} from \"@remix-run/node\";\nimport { prisma } from \"~/db.server\";\n\n// import {\n//   getSession,\n//   commitSession,\n//   destroySession,\n// } from \"./redis-session.server\";\n\n// function createDatabaseSessionStorage({ cookie }: { cookie: Cookie }) {\n//   return createSessionStorage({\n//     cookie,\n//     async createData(data, expires) {\n//       const { id } = await prisma.session.create({\n//         data: {\n//           ...data,\n//         },\n//       });\n//       return id;\n//     },\n//     async readData(id) {\n//       return (\n//         (await prisma.session.findFirst({\n//           where: {\n//             id,\n//           },\n//         })) || null\n//       );\n//     },\n//     async updateData(id, data, expires) {\n//       await prisma.session.update({\n//         where: {\n//           id,\n//         },\n//         data: {\n//           ...data,\n//         },\n//       });\n//     },\n//     async deleteData(id) {\n//       await prisma.session.delete({\n//         where: {\n//           id,\n//         },\n//       });\n//     },\n//   });\n// }\n\n// const { getSession, commitSession, destroySession } =\n//   createDatabaseSessionStorage({\n//     cookie: {\n//       name: \"__form_cookie\",\n//       // @ts-ignore\n//       secure: process.env.NODE_ENV === \"production\", // enable this in prod only,\n//       httpOnly: true,\n//       path: \"/\",\n//       sameSite: \"lax\",\n//       secrets: [process.env.FORM_SESSION_SECRET ?? \"S3cr3tS3cr3ts\"],\n//     },\n//   });\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst { getSession, commitSession, destroySession } =\n  createCookieSessionStorage({\n    cookie: {\n      name: \"__new_call\",\n      maxAge: 30,\n      secure: process.env.NODE_ENV === \"production\", // enable this in prod only,\n      httpOnly: true,\n      path: \"/\",\n      sameSite: \"lax\",\n      secrets: [process.env.FORM_SESSION_SECRET ?? \"S3cr3tS3cr3ts\"],\n    },\n  });\n\nexport { getSession, commitSession, destroySession };\n", "import {\n  checkContextForErrors,\n  handleFormData,\n  handleListItemFormStructureOp,\n  honeypotFieldHasValue,\n} from \"./action-utils\";\nimport type { FormFieldInput, MultiStepForm } from \"./types\";\nimport {\n  commitSession,\n  getSession,\n  destroySession,\n} from \"~/services/form/session.server\";\nimport { redirect } from \"@remix-run/node\";\nimport {\n  addFormValuesToContext,\n  validateFormFieldValue,\n} from \"~/services/form/action-utils\";\nimport { getFormStage } from \"./shared\";\n\nasync function formActionFunction({\n  formType,\n  request,\n  formBlueprint,\n  handleDataFn,\n  successRedirectPath,\n}:\n  | {\n      formType: \"basic\";\n      request: Request;\n      formBlueprint: FormFieldInput[];\n      handleDataFn: any;\n      successRedirectPath: string;\n    }\n  | {\n      formType: \"multipart\";\n      request: Request;\n      formBlueprint: MultiStepForm;\n      handleDataFn: any;\n      successRedirectPath: string;\n    }): Promise<any> {\n  // Get the current session\n  const session = await getSession(request.headers.get(\"Cookie\"));\n\n  console.log({ session });\n\n  let { pathname } = new URL(request.url);\n\n  let context: any = session.get(\"context\") ?? {};\n\n  console.log({ context });\n\n  // If there is no context, the session most likely timed out\n  // We only really care about the context if it is a multipart form\n  if (formType === \"multipart\" && Object.keys(context).length < 1) {\n    let { pathname } = new URL(request.url);\n    // console.log({ pathname });\n\n    console.log(\"No context found in session, redirecting to start\");\n    return redirect(pathname, {\n      headers: {\n        \"Set-Cookie\": await destroySession(session),\n      },\n    });\n  }\n\n  const body = await request.formData();\n\n  // Handle bots by checking for honeypot field\n  let honeypotFieldHit = honeypotFieldHasValue({ body });\n\n  if (honeypotFieldHit) {\n    return redirect(\"/\");\n  }\n\n  const operationType = body.get(\"operation-type\");\n\n  // *** ALERT ***\n  // operationType only exists for list item form structure\n  // Handle accordingly\n  if (operationType) {\n    return await handleListItemFormStructureOp({\n      operationType,\n      formBlueprint,\n      context,\n      session,\n      pathname,\n      body,\n    });\n  }\n\n  let submitType: \"back\" | \"next\" | \"submit\" | string =\n    body.get(\"submit-type\")?.toString() ?? \"\";\n\n  // console.log({ submitType });\n\n  // Multipart - back button\n  if (formType === \"multipart\") {\n    if (submitType === \"back\") {\n      context.currentStep -= 1;\n\n      session.set(\"context\", context);\n\n      return redirect(pathname, {\n        headers: {\n          \"Set-Cookie\": await commitSession(session),\n        },\n      });\n    }\n  }\n\n  // Add the form values to context\n  await addFormValuesToContext({\n    formType,\n    formBlueprint,\n    body,\n    context,\n  });\n\n  // Validate the form inputs using the validation\n  // methods from the form structure\n  if (formType === \"basic\") {\n    console.log(\"basically\");\n\n    formBlueprint.forEach((formField) => {\n      validateFormFieldValue({ context, formField });\n    });\n  }\n\n  if (formType === \"multipart\") {\n    const currentFormStep = context.currentStep;\n\n    for (const formField of formBlueprint[currentFormStep]?.fields) {\n      // console.log({ formField });\n\n      validateFormFieldValue({ context, formField });\n    }\n  }\n\n  let sessionData: any = {};\n\n  for (const contextItem in context) {\n    // console.log({ contextItem: context[contextItem] });\n\n    sessionData[contextItem] = context[contextItem].value;\n  }\n\n  // console.log({ sessionData });\n\n  session.set(\"context\", context);\n\n  // Check for errors in context\n  // In basic, we want to check all of the context entries\n  // In multipart, we only want to check the context items\n  // for the current step\n  // @ts-expect-error function overload not externally visible\n  let errorsInContext = checkContextForErrors({\n    context,\n    formType,\n    formBlueprint,\n  });\n\n  // console.log({ errorsInContext, context });\n\n  if (!errorsInContext) {\n    // If there are no errors in the context we have two routes\n    // to take\n\n    // Basic Form\n    // Multipart Form\n\n    // BASIC FORM\n    if (formType === \"basic\") {\n      return handleFormData({\n        request,\n        handleDataFn,\n        commitSession,\n        context,\n        successRedirectPath,\n        session,\n      });\n    }\n\n    // MULTIPART FORM\n\n    // Get the current form stage\n    // This will determine a couple things\n    // * What buttons we need to render on the form\n    // (Next, Back, Submit)\n    // * If we are at the end, we want to handle the data,\n    // otherwise we want to show the next step of the form\n    const formStage = getFormStage({ formBlueprint, context });\n    context.formStage = formStage;\n\n    // Handle data\n    if (formStage === \"end\" && submitType === \"submit\") {\n      // console.log(\"hey guys\");\n\n      return handleFormData({\n        handleDataFn,\n        commitSession,\n        context,\n        successRedirectPath,\n        session,\n        request,\n      });\n    } else {\n      console.log(\"pow\");\n\n      // console.log(\"whats up dawg?\");\n      // Still at the beginning or middle of the form\n      // All the inputs were correct, we want to go to\n      // the next stage of the form\n      context.currentStep += 1;\n      console.log({ currentStep: context.currentStep });\n\n      session.set(\"context\", context);\n\n      return redirect(pathname, {\n        headers: {\n          \"Set-Cookie\": await commitSession(session),\n        },\n      });\n    }\n  }\n\n  console.log(\"you're here?\");\n\n  return redirect(pathname, {\n    headers: {\n      \"Set-Cookie\": await commitSession(session),\n    },\n  });\n}\n\nexport { formActionFunction };\n", "import { ReactNode } from \"react\";\nimport { FormFieldInput } from \"./types\";\nimport { Form } from \"@remix-run/react\";\nimport { FormField } from \"./form-field\";\nimport { Button } from \"~/components/interactive\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { IoCloseSharp } from \"react-icons/io5\";\n\nexport function MultipartForm({\n  context,\n  formStructure,\n  action,\n  reloadDocument = false,\n}: {\n  context: any;\n  formStructure: FormFieldInput[];\n  action?: string;\n  reloadDocument?: boolean;\n}) {\n  console.log({ formStructure });\n\n  return (\n    <div className=\"form-container relative\">\n      <FormWrapper reloadDocument={reloadDocument} action={action}>\n        <HoneypotField />\n        {formStructure.map((field: FormFieldInput) => {\n          return <FormField field={field} context={context} key={field.name} />;\n        })}\n        {context.dataHandlerErrorMessage && context.formStage === \"end\" ? (\n          <>\n            <div className=\"font-display text-lg font-semibold text-danger-5\">\n              {context.dataHandlerErrorMessage}\n            </div>\n            <span className=\"block h-6\"></span>\n          </>\n        ) : null}\n        <div className=\"forward-button-wrapper mt-10 flex w-full\">\n          {(context.formStage === \"beginning\" ||\n            context.formStage === \"middle\") && (\n            <FormButton\n              dataTest=\"next\"\n              className=\"ml-auto bg-primary-5 pr-4\"\n              name=\"submit-type\"\n              type=\"submit\"\n              value=\"next\"\n            >\n              {context.nextButtonText}\n              <span className=\"ml-2 block mm:text-lg\">\n                <FaChevronRight aria-hidden=\"true\" />\n              </span>\n            </FormButton>\n          )}\n          {context.formStage === \"end\" && (\n            <FormButton\n              dataTest=\"submit\"\n              className=\" forward-button-wrapper ml-auto bg-primary-5 pr-4\"\n              name=\"submit-type\"\n              type=\"submit\"\n              value=\"submit\"\n            >\n              Submit\n              <span className=\" ml-2 block mm:text-lg\">\n                <FaChevronRight aria-hidden=\"true\" />\n              </span>\n            </FormButton>\n          )}\n        </div>\n      </FormWrapper>\n      {(context.formStage === \"middle\" || context.formStage === \"end\") && (\n        <Form method=\"post\">\n          <FormButton\n            dataTest=\"back\"\n            className=\"absolute-button bottom-0 bg-neutral-4 pl-4\"\n            name=\"submit-type\"\n            type=\"submit\"\n            value=\"back\"\n          >\n            <span className=\"mr-2 block mm:text-lg\">\n              <FaChevronLeft aria-hidden=\"true\" />\n            </span>\n            {context.backButtonText}\n          </FormButton>\n        </Form>\n      )}\n    </div>\n  );\n}\n\nexport function BasicForm({\n  context,\n  formStructure,\n  action,\n  submitText,\n  reloadDocument = false,\n}: {\n  context: any;\n  formStructure: FormFieldInput[];\n  action?: string;\n  submitText?: string;\n  reloadDocument?: boolean;\n}) {\n  return (\n    <FormWrapper reloadDocument={reloadDocument} action={action}>\n      <HoneypotField />\n      {formStructure.map((field: FormFieldInput) => {\n        return <FormField field={field} context={context} key={field.name} />;\n      })}\n      {context.dataHandlerErrorMessage && (\n        <>\n          <div className=\"font-display text-lg font-semibold text-danger-5\">\n            {context.dataHandlerErrorMessage}\n          </div>\n          <span className=\"block h-6\"></span>\n        </>\n      )}\n      <span className=\"block h-0.5\"></span>\n      {submitText ? (\n        <SubmitButton>{submitText}</SubmitButton>\n      ) : (\n        <SubmitButton>Submit</SubmitButton>\n      )}\n    </FormWrapper>\n  );\n}\n\nfunction SubmitButton({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      dataTest=\"submit\"\n      elevation=\"sm\"\n      variant=\"none\"\n      className=\"!mt-8 !w-fit bg-primary-5 text-white\"\n      type=\"submit\"\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction FormWrapper({\n  children,\n  action,\n  reloadDocument = false,\n}: {\n  children: ReactNode;\n  action?: string;\n  reloadDocument?: boolean;\n}) {\n  if (reloadDocument) {\n    return (\n      <Form\n        reloadDocument\n        action={action}\n        className=\"relative w-content\"\n        method=\"post\"\n      >\n        {children}\n      </Form>\n    );\n  }\n  return (\n    <Form action={action} className=\"relative w-content\" method=\"post\">\n      {children}\n    </Form>\n  );\n}\n\nfunction HoneypotField() {\n  return (\n    <>\n      <input\n        className=\"visually-hidden\"\n        type=\"text\"\n        name=\"given-name\"\n        id=\"given-name\"\n      />\n      <label className=\"visually-hidden\" htmlFor=\"given-name\">\n        Given Name\n      </label>\n    </>\n  );\n}\n\nfunction FormButton({\n  children,\n  name,\n  className,\n  value,\n  type = \"submit\",\n  dataTest,\n}: {\n  children: ReactNode;\n  name?: string;\n  className?: string;\n  value?: string;\n  type?: \"submit\";\n  dataTest?: string;\n}) {\n  return (\n    <button\n      data-test={dataTest}\n      className={`font-display flex items-center rounded-md border-0 py-3 px-5 font-semibold text-white mm:text-lg${\n        className ? \" \" + className : \"\"\n      }`}\n      name={name}\n      type={type}\n      value={value}\n    >\n      {children}\n    </button>\n  );\n}\n", "import { ReactNode, useEffect, useState } from \"react\";\nimport type {\n  ExpandableList,\n  FormFieldInput,\n  FormBlueprint,\n  StatefulRadioField,\n} from \"~/services/form/types\";\n// import styles from \"~/styles/form.css\";\nimport { convertSingleQuotes } from \"~/services/form/shared\";\nimport { DialogOverlay, DialogContent } from \"@reach/dialog\";\nimport { Form, useSubmit } from \"@remix-run/react\";\nimport { FiPlusCircle } from \"react-icons/fi\";\n\nfunction createFieldLabel(fieldName: string) {\n  let words = fieldName.split(\"-\");\n\n  for (let i = 0; i < words.length; i++) {\n    words[i] = words[i][0].toUpperCase() + words[i].slice(1);\n  }\n\n  return words.join(\" \");\n}\n\nfunction displayFieldErrors({\n  fieldErrors,\n  fieldVisited,\n}: {\n  fieldErrors: string[];\n  fieldVisited: boolean;\n}) {\n  return (\n    <div className=\"mb-1\">\n      {fieldErrors.length >= 1 && fieldVisited\n        ? fieldErrors.map((fieldError) => {\n            return (\n              <div\n                className=\"text-danger-6 font-medium mm:text-lg\"\n                key={fieldError}\n              >\n                {fieldError}\n              </div>\n            );\n          })\n        : null}\n    </div>\n  );\n}\n\n// FormField.styles = styles;\n\n// eslint-disable-next-line complexity\nexport function FormField({\n  field,\n  context,\n}: {\n  field: FormFieldInput;\n  context: any;\n}) {\n  let errors: string[] = [];\n  let visited = false;\n\n  // console.log({ field });\n\n  if (\n    field.type === \"email\" ||\n    field.type === \"password\" ||\n    field.type === \"text\" ||\n    field.type === \"textarea\"\n  ) {\n    if (context[`${field.name}`]?.errors) {\n      errors = context[`${field.name}`]?.errors;\n\n      if (context[`${field.name}`]?.errors.length >= 1) visited = true;\n    }\n  }\n\n  let [fieldErrors, setFieldErrors] = useState(errors);\n  let [fieldVisited, setFieldVisited] = useState(visited);\n\n  // console.log({ fieldVisited, fieldErrors });\n\n  // On change does validation checks when the input field changes\n  function onChange(e: any) {\n    // Is it a text field\n    if (\n      field.type === \"text\" ||\n      field.type === \"textarea\" ||\n      field.type === \"email\" ||\n      field.type === \"password\"\n    ) {\n      field.validation.patterns.forEach(async (pattern: any, index: number) => {\n        let regexTestPattern = new RegExp(pattern, \"gim\");\n\n        let value = convertSingleQuotes(e.target.value);\n\n        let fieldIsValid = regexTestPattern.test(value);\n\n        // console.log({ fieldIsValid });\n\n        if (fieldIsValid) {\n          setFieldErrors([]);\n        } else if (!fieldErrors.includes(field.validation.messages[index])) {\n          // console.log(\"not valid\");\n\n          // Only display the error message once\n          setFieldErrors([...fieldErrors, field.validation.messages[index]]);\n        }\n      });\n    }\n  }\n\n  // console.log({ fieldErrors, fieldVisited });\n  if (field.type === \"hidden\") {\n    let value: string = field.initialValue;\n\n    if (context[`${field.name}`]) {\n      value = context[`${field.name}`]?.value;\n    }\n\n    return <input type=\"hidden\" name={field.name} value={value} />;\n  }\n\n  if (field.type === \"text\") {\n    let defaultValue = field.initialValue;\n\n    if (context[`${field.name}`]) {\n      defaultValue = context[`${field.name}`]?.value;\n    }\n\n    // console.log({ defaultValue });\n\n    return (\n      <label className=\"block mb-12\" key={field.name}>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {displayFieldErrors({ fieldErrors, fieldVisited })}\n\n        <InputField\n          dataTest={field.name}\n          required={field.required}\n          name={field.name}\n          defaultValue={defaultValue}\n          placeholder={field.placeholder}\n          onBlur={() => setFieldVisited(true)}\n          onChange={onChange}\n          pattern={field.validation.formInputPattern}\n          title={field.validation.formInputMessage}\n          type={field.type}\n        />\n      </label>\n    );\n  }\n\n  if (field.type === \"password\") {\n    let value = field.initialValue;\n\n    if (context[`${field.name}`]) {\n      value = context[`${field.name}`]?.value;\n    }\n\n    // console.log({ value });\n\n    return (\n      <label className=\"mb-6 block\" key={field.name}>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {displayFieldErrors({ fieldErrors, fieldVisited })}\n\n        <InputField\n          dataTest={field.name}\n          required={field.required}\n          name={field.name}\n          defaultValue={value}\n          onBlur={() => setFieldVisited(true)}\n          onChange={onChange}\n          pattern={field.validation.formInputPattern}\n          title={field.validation.formInputMessage}\n          type=\"password\"\n        />\n      </label>\n    );\n  }\n\n  if (field.type === \"email\") {\n    let defaultValue = field.initialValue;\n\n    if (context[`${field.name}`]) {\n      defaultValue = context[`${field.name}`]?.value;\n    }\n\n    return (\n      <label className=\"mb-4\" key={field.name}>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {displayFieldErrors({ fieldErrors, fieldVisited })}\n\n        <InputField\n          dataTest={field.name}\n          required={field.required}\n          name={field.name}\n          defaultValue={defaultValue}\n          placeholder={field.placeholder}\n          onBlur={() => setFieldVisited(true)}\n          onChange={onChange}\n          pattern={field.validation.formInputPattern}\n          title={field.validation.formInputMessage}\n          type={field.type}\n        />\n      </label>\n    );\n  }\n\n  if (field.type === \"textarea\") {\n    let defaultValue = field.initialValue;\n\n    if (context[field.name]) {\n      defaultValue = context[field.name]?.value;\n    }\n\n    return (\n      <label className=\"mb-4\" key={field.name}>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {displayFieldErrors({ fieldErrors, fieldVisited })}\n\n        <textarea\n          data-test={field.name}\n          className=\"w-full font-medium mm:text-lg p-2 px-3 bg-white rounded\"\n          required={field.required}\n          rows={5}\n          name={field.name}\n          defaultValue={defaultValue}\n          placeholder={field.placeholder}\n          onBlur={() => setFieldVisited(true)}\n          onChange={onChange}\n        />\n        <span className=\"block h-10\"></span>\n      </label>\n    );\n  }\n\n  if (field.type === \"radio\") {\n    console.log({ context });\n\n    return (\n      <FieldItemWrapper>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {field.options.map((radioValue) => {\n          console.log({ radioValue });\n\n          let defaultRadioValue = field.initialValue;\n\n          if (context[field.name]) {\n            defaultRadioValue = context[field.name]?.value;\n          }\n\n          const label = createFieldLabel(radioValue);\n          return (\n            <RadioItem key={`${field.name}-${radioValue}`}>\n              <input\n                data-test={`${field.name}-${radioValue}`}\n                key={radioValue}\n                type=\"radio\"\n                id={`${field.name}-${radioValue}`}\n                name={field.name}\n                value={radioValue}\n                autoComplete=\"off\"\n                defaultChecked={radioValue === defaultRadioValue}\n              />\n              <RadioLabel\n                className=\"ml-2\n              \"\n                htmlFor={`${field.name}-${radioValue}`}\n              >\n                {label}\n              </RadioLabel>\n            </RadioItem>\n          );\n        })}\n      </FieldItemWrapper>\n    );\n  }\n\n  if (field.type === \"checkbox-group\") {\n    return (\n      <FieldItemWrapper>\n        <FieldLabel>{field.groupLabel}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {field.checkboxes.map((checkbox) => {\n          return (\n            <RadioItem key={checkbox.name}>\n              <input\n                data-test={`${checkbox.name}-${checkbox.value}`}\n                key={checkbox.name}\n                type=\"checkbox\"\n                id={checkbox.name}\n                name={checkbox.name}\n                value={checkbox.value}\n                autoComplete=\"off\"\n                defaultChecked={context[checkbox.name]}\n              />\n              <RadioLabel\n                className=\"ml-2\n              \"\n                htmlFor={checkbox.name}\n              >\n                {checkbox.label}\n              </RadioLabel>\n            </RadioItem>\n          );\n        })}\n        <span className=\"block h-4\"></span>\n      </FieldItemWrapper>\n    );\n  }\n\n  if (field.type === \"expandable-list\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const { ExpandableList } = useExpandableList({\n      field,\n    });\n    return (\n      <>\n        <FieldItemWrapper>\n          <div className=\"expandable-list-label\">{field.listLabel}</div>\n          {field?.listDescription && (\n            <>\n              <span className=\"block h-2\"></span>\n              <FieldDescription>{field.listDescription}</FieldDescription>\n            </>\n          )}\n          <span className=\"block h-8\"></span>\n          <ExpandableList context={context} />\n        </FieldItemWrapper>\n      </>\n    );\n  }\n\n  if (field.type === \"stateful-radio\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const { StatefulRadio, selectedValue } = useStatefulRadio({\n      field,\n      context,\n    });\n\n    return (\n      <FieldItemWrapper>\n        <StatefulRadio key={field.name} />\n        {selectedValue === 0\n          ? field.dependentChildren[0].map((nestedField) => {\n              if (nestedField) {\n                return (\n                  <FormField\n                    context={context}\n                    key={nestedField.name}\n                    field={nestedField}\n                  />\n                );\n              }\n              return null;\n            })\n          : selectedValue === 1\n          ? field.dependentChildren[1].map((nestedField) => {\n              if (nestedField) {\n                return (\n                  <FormField\n                    context={context}\n                    key={nestedField.name}\n                    field={nestedField}\n                  />\n                );\n              }\n              return null;\n            })\n          : selectedValue === 2\n          ? field.dependentChildren[2].map((nestedField) => {\n              if (nestedField) {\n                return (\n                  <FormField\n                    context={context}\n                    key={nestedField.name}\n                    field={nestedField}\n                  />\n                );\n              }\n\n              return null;\n            })\n          : selectedValue === 3\n          ? field.dependentChildren[3].map((nestedField) => {\n              if (nestedField) {\n                return (\n                  <FormField\n                    context={context}\n                    key={nestedField.name}\n                    field={nestedField}\n                  />\n                );\n              }\n              return null;\n            })\n          : []}\n      </FieldItemWrapper>\n    );\n  }\n  return null;\n}\n\nfunction useExpandableList({ field }: { field: ExpandableList }) {\n  const submit = useSubmit();\n  const [showDialog, setShowDialog] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(undefined);\n  const [selectedAction, setSelectedAction] = useState(\"\");\n  const [listItems, setListItems] = useState([]);\n  const open = () => setShowDialog(true);\n  const close = () => setShowDialog(false);\n\n  console.log({ field });\n\n  let { listItemStructure } = field;\n\n  function ExpandableList({ context }: { context: any }) {\n    console.log({ context, fieldName: field.name });\n\n    useEffect(() => {\n      console.log(\"context changed\");\n\n      setListItems(context[field.name]?.value);\n      console.log({ listItems });\n    }, [context]);\n\n    let fieldsToShowInTable = {};\n    listItemStructure.map((field) => {\n      // @ts-expect-error lolz typescript\n      if (field.showOnMobileTable) {\n        // @ts-expect-error lolz typescript\n        fieldsToShowInTable[field.name] = field;\n      }\n    });\n\n    return (\n      <>\n        <button\n          className=\"add-item-button expand-click-target\"\n          onClick={() => {\n            setSelectedIndex(undefined);\n            setSelectedAction(\"\");\n            open();\n          }}\n        >\n          <span className=\"add-item-icon\">\n            <FiPlusCircle />\n          </span>\n          {field.addItemLabel}\n        </button>\n\n        <span className=\"block h-5 mm:h-6\"></span>\n\n        {listItems.length > 0 && (\n          <>\n            <div className=\"list-items-table-wrapper\">\n              <table>\n                <thead>\n                  <tr className=\"lit-row\">\n                    {listItemStructure.map((nestedField) => {\n                      if (\n                        Object.keys(fieldsToShowInTable).includes(\n                          nestedField.name\n                        )\n                      ) {\n                        return (\n                          <th\n                            className=\"lit-cell\"\n                            data-flex={\n                              // @ts-expect-error lolz typescript\n                              nestedField.tableFlex\n                            }\n                            data-align-text={\n                              // @ts-expect-error lolz typescript\n                              nestedField.alignText\n                            }\n                            key={nestedField.name}\n                          >\n                            {\n                              // @ts-expect-error lolz typescript\n                              nestedField.label\n                            }\n                          </th>\n                        );\n                      }\n                    })}\n                    <th className=\"lit-cell\" data-flex={3}>\n                      &nbsp;\n                    </th>\n                    <th className=\"lit-cell\" data-flex={3}>\n                      &nbsp;\n                    </th>\n                  </tr>\n                </thead>\n\n                {listItems.map((item: any, index: number) => {\n                  // console.log({ item });\n                  return (\n                    <tr className=\"lit-row\" key={index}>\n                      {Object.keys(fieldsToShowInTable).map(\n                        (fieldToShow, index) => {\n                          console.log({ index });\n\n                          console.log(\n                            \"data-flex: \",\n                            listItemStructure[index]?.tableFlex\n                          );\n\n                          let cellFlexValue;\n\n                          let alignTextValue;\n\n                          listItemStructure.forEach((itemStructure: any) => {\n                            if (itemStructure.name === fieldToShow) {\n                              cellFlexValue = itemStructure.tableFlex;\n                              alignTextValue = itemStructure.alignText;\n                            }\n                          });\n\n                          // flexValueArray.filter((item) => {\n                          //   if (item !== undefined && typeof item === \"number\") {\n                          //     return item;\n                          //   }\n                          // });\n\n                          console.log({ cellFlexValue });\n\n                          return (\n                            <th\n                              className=\"lit-cell\"\n                              data-flex={cellFlexValue}\n                              data-align-text={alignTextValue}\n                              key={`${item[fieldToShow]}-${index}`}\n                            >\n                              {item[fieldToShow]?.value}\n                            </th>\n                          );\n                        }\n                      )}\n                      <th\n                        className=\"lit-cell\"\n                        data-align-text=\"right\"\n                        data-flex={3}\n                      >\n                        <button\n                          className=\"edit-item-button expand-click-target\"\n                          data-test={`edit-${index}`}\n                          onClick={() => {\n                            // @ts-expect-error lolz typescript\n                            setSelectedIndex(index);\n                            setSelectedAction(\"edit-item\");\n\n                            open();\n                          }}\n                        >\n                          Edit\n                        </button>\n                      </th>\n                      <th\n                        className=\"lit-cell\"\n                        data-align-text=\"right\"\n                        data-flex={3}\n                      >\n                        <button\n                          className=\"delete-item-button expand-click-target\"\n                          data-test={`delete-${index}`}\n                          onClick={() => {\n                            // @ts-expect-error lolz typescript\n                            setSelectedIndex(index);\n                            setSelectedAction(\"delete-item\");\n\n                            open();\n                          }}\n                        >\n                          Delete\n                        </button>\n                      </th>\n                    </tr>\n                  );\n                })}\n              </table>\n            </div>\n          </>\n        )}\n        <DialogOverlay isOpen={showDialog} onDismiss={close}>\n          <DialogContent aria-label={field.addOrEditItemModalLabel}>\n            {selectedAction === \"delete-item\" ? (\n              <>\n                <div className=\"font-bold text-2xl text-danger-7\">\n                  Delete Item\n                </div>\n                <span className=\"block h-3\"></span>\n                <p>\n                  Are you sure you want to delete item{\" \"}\n                  {listItems.map((item, index) => {\n                    if (index === selectedIndex) {\n                      console.log({ item: item[Object.keys(item)[0]] });\n                      return listItems[selectedIndex][\n                        Object.keys(listItems[selectedIndex])[0]\n                      ]?.value;\n                    }\n                  })}\n                </p>\n                <span className=\"block h-6\"></span>\n                <div className=\"flex items-center\">\n                  <button\n                    className=\"bg-primary-05 text-primary-7 font-bold py-2 px-4 rounded-md mr-8 border-none expand-click-target\"\n                    data-test=\"cancel\"\n                    onClick={() => {\n                      close();\n                    }}\n                  >\n                    Cancel\n                  </button>\n                  <Form\n                    method=\"post\"\n                    onSubmitCapture={(event) => {\n                      submit(event.currentTarget);\n                      close();\n                    }}\n                  >\n                    <input\n                      type=\"hidden\"\n                      name=\"operation-type\"\n                      value=\"delete-list-item\"\n                    />\n                    <input\n                      type=\"hidden\"\n                      name=\"index-to-delete\"\n                      value={selectedIndex}\n                    />\n                    <button\n                      className=\"bg-danger-05 text-danger-9 font-bold outline-none py-2 px-4 rounded-md\"\n                      data-test=\"confirm-delete\"\n                      type=\"submit\"\n                    >\n                      Confirm Delete\n                    </button>\n                  </Form>\n                </div>\n              </>\n            ) : (\n              <>\n                <div className=\"font-bold text-neutral-9 text-2xl\">\n                  {typeof selectedIndex === \"number\"\n                    ? field.editItemLabel\n                    : field.addItemLabel}\n                </div>\n                <span className=\"block h-8\"></span>\n                <Form\n                  reloadDocument\n                  method=\"post\"\n                  onSubmitCapture={(event) => {\n                    submit(event.currentTarget);\n                    close();\n                  }}\n                >\n                  {selectedAction === \"edit-item\" ? (\n                    <>\n                      <input\n                        type=\"hidden\"\n                        name=\"operation-type\"\n                        value=\"edit-list-item\"\n                      />\n                      <input\n                        type=\"hidden\"\n                        name=\"index-to-change\"\n                        value={selectedIndex}\n                      />\n                    </>\n                  ) : (\n                    <input\n                      type=\"hidden\"\n                      name=\"operation-type\"\n                      value=\"add-item-to-list\"\n                    />\n                  )}\n                  {listItemStructure.map((nestedField) => {\n                    return (\n                      <FormField\n                        context={\n                          typeof selectedIndex === \"number\"\n                            ? context[field.name]?.value[selectedIndex]\n                            : context\n                        }\n                        key={nestedField.name}\n                        field={nestedField}\n                      />\n                    );\n                  })}\n                  <span className=\"block h-4\"></span>\n                  <button\n                    className=\"text-success-7 font-bold rounded-md border-none text-lg px-4 py-2 -ml-1 bg-success-05\"\n                    type=\"submit\"\n                  >\n                    Confirm\n                  </button>\n                </Form>\n              </>\n            )}\n          </DialogContent>\n        </DialogOverlay>\n      </>\n    );\n  }\n\n  return { ExpandableList };\n}\n\nfunction useStatefulRadio({\n  field,\n  context,\n}: {\n  field: StatefulRadioField;\n  context: any;\n}) {\n  let selectedIndex = 0;\n  field.options.forEach((option, index) => {\n    let defaultValue = field.initialValue;\n    if (context[field.name]) {\n      defaultValue = context[`${field.name}`].value;\n    }\n    if (defaultValue === option) {\n      selectedIndex = index;\n    }\n  });\n\n  const [selectedValue, setSelectedValue] = useState(selectedIndex);\n\n  function StatefulRadio() {\n    return (\n      <FieldItemWrapper>\n        <FieldLabel>{field.label}</FieldLabel>\n        <FieldDescription>{field.description}</FieldDescription>\n\n        {field.options.map((radioValue, index) => {\n          const label = createFieldLabel(radioValue);\n\n          if (index === selectedValue) {\n            return (\n              <RadioItem key={radioValue}>\n                <input\n                  data-test={`${field.name}-${radioValue}`}\n                  type=\"radio\"\n                  id={`${field.name}-${radioValue}`}\n                  name={field.name}\n                  value={radioValue}\n                  onChange={() => {\n                    setSelectedValue(index);\n                  }}\n                  checked={true}\n                  autoComplete=\"off\"\n                />\n                <RadioLabel htmlFor={`${field.name}-${radioValue}`}>\n                  {label}\n                </RadioLabel>\n              </RadioItem>\n            );\n          } else {\n            return (\n              <RadioItem key={radioValue}>\n                <input\n                  data-test={`${field.name}-${radioValue}`}\n                  type=\"radio\"\n                  id={`${field.name}-${radioValue}`}\n                  name={field.name}\n                  value={radioValue}\n                  onChange={() => {\n                    setSelectedValue(index);\n                  }}\n                  autoComplete=\"off\"\n                />\n                <RadioLabel htmlFor={`${field.name}-${radioValue}`}>\n                  {label}\n                </RadioLabel>\n              </RadioItem>\n            );\n          }\n        })}\n      </FieldItemWrapper>\n    );\n  }\n  return { StatefulRadio, selectedValue };\n}\n\nfunction FieldItemWrapper({\n  className,\n  children,\n}: {\n  className?: string;\n  children: ReactNode;\n}) {\n  return (\n    <div className={`mb-10${className ? \" \" + className : \"\"}`}>{children}</div>\n  );\n}\n\nfunction FieldLabel({\n  className,\n  children,\n}: {\n  className?: string;\n  children: ReactNode;\n}) {\n  return (\n    <>\n      <span\n        className={`block font-display font-bold text-xl tb:text-xl text-neutral-6${\n          className ? \" \" + className : \"\"\n        }`}\n      >\n        {children}\n      </span>\n      <span className=\"block h-1.5\"></span>\n    </>\n  );\n}\n\nfunction InputField({\n  className,\n  required,\n  name,\n  defaultValue,\n  placeholder,\n  onBlur,\n  onChange,\n  pattern,\n  title,\n  type,\n  dataTest,\n}: {\n  className?: string;\n  required?: boolean;\n  name: string;\n  defaultValue?: string;\n  placeholder?: string;\n  onBlur?: any;\n  onChange?: any;\n  pattern?: string;\n  title?: string;\n  type: string;\n  dataTest: string;\n}) {\n  return (\n    <input\n      data-test={dataTest}\n      className={`bg-white  font-body font-medium rounded w-full text-base p-2 mm:text-xl${\n        className ? \" \" + className : \"\"\n      }`}\n      required={required}\n      name={name}\n      defaultValue={defaultValue}\n      placeholder={placeholder}\n      onBlur={onBlur}\n      onChange={onChange}\n      pattern={pattern}\n      title={title}\n      type={type}\n      autoCorrect=\"false\"\n      autoComplete=\"false\"\n    />\n  );\n}\n\nfunction RadioItem({\n  className,\n  children,\n}: {\n  className?: string;\n  children: ReactNode;\n}) {\n  // console.log({ className });\n\n  return (\n    <>\n      <div\n        className={`mb-1 mt-2 flex items-center${\n          className ? \" \" + className : \"\"\n        }`}\n      >\n        {children}\n      </div>\n      <span className=\"block h-1\"></span>\n    </>\n  );\n}\n\nfunction RadioLabel({\n  className,\n  children,\n  htmlFor,\n}: {\n  className?: string;\n  children: ReactNode;\n  htmlFor: string;\n}) {\n  return (\n    <label\n      htmlFor={htmlFor}\n      className={`radio-label block ml-2 font-medium mm:text-lg mm:ml-3 text-neutral-8${\n        className ? \" \" + className : \"\"\n      }`}\n    >\n      {children}\n    </label>\n  );\n}\n\nfunction FieldDescription({ children }: { children: ReactNode }) {\n  if (children) {\n    return (\n      <p className=\"-mt-1 mb-4 mm:mb-3 text-neutral-6 font-light\">{children}</p>\n    );\n  }\n\n  return null;\n}\n", "import type { FormFieldInput, MultiStepForm } from \"~/services/form/types\";\nimport {\n  getSession,\n  commitSession,\n  destroySession,\n} from \"~/services/form/session.server\";\nimport { json } from \"@remix-run/node\";\nimport { addFieldToContext, checkForFieldNameAndValue } from \"./loader-utils\";\nimport { getFormStage } from \"./shared\";\n\nasync function formLoaderFunction({\n  basicOrMultipart,\n  request,\n  formBlueprint,\n}:\n  | {\n      basicOrMultipart: \"multipart\";\n      request: Request;\n      formBlueprint: MultiStepForm;\n    }\n  | {\n      basicOrMultipart: \"basic\";\n      request: Request;\n      formBlueprint: FormFieldInput[];\n    }): Promise<any> {\n  // Get current session\n  const session = await getSession(request.headers.get(\"Cookie\"));\n\n  let context = session.get(\"context\");\n\n  console.log(\"here's your context\", context);\n\n  // Check to see if the current context matches the current\n  // form structure. If it doesn't match, there is a good chance\n  // that there is no context or we are coming from a different form\n  context = checkExistingContext({ formBlueprint, basicOrMultipart, context });\n\n  // If the context object doesn't have any length, we\n  // know that it is empty and we need to seed it\n  if (Object.keys(context).length < 1) {\n    context = seedContextWithInitialValues({ formBlueprint, basicOrMultipart });\n  }\n\n  console.log(\"here's your context now\", context);\n\n  // Get the current step\n  context?.currentStep ?? 0;\n\n  // We should never have a negative number\n  // for the current step\n  if (context.currentStep < 0) {\n    context.currentStep = 0;\n  }\n\n  if (basicOrMultipart === \"multipart\") {\n    let formStage = getFormStage({ context, formBlueprint });\n\n    // console.log({ formStage, context });\n\n    if (context.currentStep > 0 && Object.keys(context).length < 1) {\n      console.log(\"You shouldn't be here\");\n\n      return json(\n        {},\n        {\n          headers: {\n            \"Set-Cookie\": await destroySession(session),\n          },\n        }\n      );\n    }\n\n    context.formStage = formStage;\n    // @ts-ignore\n    context.nextButtonText = formBlueprint[context.currentStep]?.nextButtonText;\n    // @ts-ignore\n    context.backButtonText = formBlueprint[context.currentStep]?.backButtonText;\n  }\n\n  session.set(\"context\", context);\n\n  if (basicOrMultipart === \"multipart\") {\n    console.log({ currentStep: context?.currentStep });\n\n    return {\n      context,\n      currentStepBlueprint: formBlueprint[context.currentStep]?.fields,\n      commitSession,\n      session,\n      commitSessionFn: async () => {\n        await commitSession(session);\n      },\n    };\n  } else {\n    return {\n      context,\n      currentStepBlueprint: formBlueprint,\n      commitSession,\n      session,\n      commitSessionFn: async () => {\n        await commitSession(session);\n      },\n    };\n    // return json(\n    //   { context, formBlueprint },\n    //   {\n    //     headers: {\n    //       \"Set-Cookie\": await commitSession(session),\n    //     },\n    //   },\n    // );\n  }\n}\n\n// Check to see if the context applies to the current form\n\nfunction checkExistingContext({\n  basicOrMultipart,\n  formBlueprint,\n  context,\n}:\n  | {\n      basicOrMultipart: \"basic\";\n      formBlueprint: FormFieldInput[];\n      context: any;\n    }\n  | {\n      basicOrMultipart: \"multipart\";\n      formBlueprint: MultiStepForm;\n      context: any;\n    }): any {\n  // If context does not exist, return early. We will need to\n  // seed the context with initial values\n  if (!context) {\n    // console.log(\"No Existing Context\");\n\n    return false;\n  }\n\n  let incorrectContext = false;\n\n  if (basicOrMultipart === \"multipart\") {\n    for (const step of formBlueprint) {\n      // @ts-ignore\n      for (const field of step?.fields) {\n        if (incorrectContext) {\n          console.log(\"haro!\");\n\n          return {};\n        }\n\n        incorrectContext = checkForFieldNameAndValue({ field, context });\n      }\n    }\n  }\n\n  if (basicOrMultipart === \"basic\") {\n    // @ts-ignore\n    for (const field of formBlueprint) {\n      if (incorrectContext) {\n        return {};\n      }\n\n      // @ts-ignore\n      incorrectContext = checkForFieldNameAndValue({ field, context });\n    }\n  }\n\n  return context;\n}\n\nfunction seedContextWithInitialValues({\n  basicOrMultipart,\n  formBlueprint,\n}: {\n  basicOrMultipart: \"multipart\";\n  formBlueprint: MultiStepForm;\n}): any;\nfunction seedContextWithInitialValues({\n  basicOrMultipart,\n  formBlueprint,\n}: {\n  basicOrMultipart: \"basic\";\n  formBlueprint: FormFieldInput[];\n}): any;\nfunction seedContextWithInitialValues({\n  basicOrMultipart,\n  formBlueprint,\n}: {\n  basicOrMultipart: \"multipart\" | \"basic\";\n  formBlueprint: MultiStepForm | FormFieldInput[];\n}): any {\n  // Give the context object initial values\n  let context: any = {};\n\n  if (basicOrMultipart === \"multipart\") {\n    for (const step of formBlueprint) {\n      // console.log({ step });\n\n      // @ts-ignore\n      for (const field of step?.fields) {\n        // console.log({ field });\n\n        if (field) {\n          addFieldToContext({ field, context });\n        }\n      }\n    }\n\n    context.currentStep = 0;\n  }\n\n  if (basicOrMultipart === \"basic\") {\n    for (const nestedField of formBlueprint) {\n      if (typeof nestedField === \"object\") {\n        // @ts-ignore\n        addFieldToContext({ field: nestedField, context });\n      }\n    }\n  }\n\n  return context;\n}\n\nexport { formLoaderFunction };\n", "import { FormFieldInput } from \"~/services/form/types\";\n\nfunction checkForFieldNameAndValue({\n  field,\n  context,\n}: {\n  field: FormFieldInput;\n  context: any;\n}) {\n  let contextFieldName = context[`${field.name}`];\n\n  // console.log({ contextFieldName });\n\n  if (contextFieldName) {\n    if (\n      typeof contextFieldName?.value !== \"string\" &&\n      typeof contextFieldName?.value !== \"object\"\n    ) {\n      console.log(\"bad value: \", contextFieldName.value);\n\n      return true;\n    }\n  } else {\n    return true;\n  }\n\n  if (field.type === \"stateful-radio\") {\n    field.dependentChildren.forEach((fields) => {\n      fields.forEach((nestedField) => {\n        if (nestedField) {\n          checkForFieldNameAndValue({ field: nestedField, context });\n        }\n      });\n    });\n  }\n\n  return false;\n}\n\nfunction addFieldToContext({\n  field,\n  context,\n}: {\n  field: FormFieldInput;\n  context: any;\n}) {\n  if (field.type !== \"checkbox-group\" && field.type !== \"expandable-list\") {\n    context[`${field.name}`] = {\n      value: field.initialValue || \"\",\n      errors: [],\n    };\n  } else if (field.type === \"checkbox-group\") {\n    field.checkboxes.forEach((checkbox) => {\n      if (checkbox.initialValue) {\n        context[`${field.name}`] = {\n          // @ts-expect-error silly typescript\n          value: field.initialValue || \"\",\n          errors: [],\n        };\n      }\n    });\n  } else if (field.type === \"expandable-list\") {\n    context[`${field.name}`] = {\n      value: field.initialValue || [],\n      errors: [],\n    };\n  }\n\n  // console.log(\"adding field context: \", context);\n\n  if (field.type === \"stateful-radio\") {\n    field.dependentChildren.forEach((fields) => {\n      fields.forEach((nestedField) => {\n        if (typeof nestedField !== \"undefined\") {\n          addFieldToContext({ field: nestedField, context });\n        }\n      });\n    });\n  }\n}\n\nexport { addFieldToContext, checkForFieldNameAndValue };\n", "import { Link } from \"@remix-run/react\";\n\nexport default function Index() {\n  return (\n    <div>\n      <h1>Remixed Form</h1>\n      <ul>\n        <li>\n          <Link to=\"/multi-item-form\">Multi-Item Form</Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n", "export default {'version':'41fb245c','entry':{'module':'/build/entry.client-AQBZLN64.js','imports':['/build/_shared/chunk-D7CY57E5.js','/build/_shared/chunk-VJIYMWKE.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-GANW7KTS.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/index':{'id':'routes/index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/index-332IM6BK.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/multi-item-form':{'id':'routes/multi-item-form','parentId':'root','path':'multi-item-form','index':undefined,'caseSensitive':undefined,'module':'/build/routes/multi-item-form-4V4AIVVJ.js','imports':undefined,'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}},'url':'/build/manifest-41FB245C.js'};", "\nimport * as entryServer from \"/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/entry.server.tsx\";\nimport * as route0 from \"/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/root.tsx\";\nimport * as route1 from \"/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/routes/multi-item-form.tsx\";\nimport * as route2 from \"/Users/markjensen/Code/jds-client-projects/2022/remixed-form/app/routes/index.tsx\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/multi-item-form\": {\n      id: \"routes/multi-item-form\",\n      parentId: \"root\",\n      path: \"multi-item-form\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/index\": {\n      id: \"routes/index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route2\n    }\n  };"],
  "mappings": "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",
  "names": []
}
